import{j as u}from"./jsx-runtime-BnIj46N_.js";import{useMDXComponents as x}from"./index-DLsXyOuj.js";import{A as k,e as A,M as O,C as S}from"./chunk-HLWAVYOI-BoQQyQW3.js";import{T as _,P as D,S as M,a as N}from"./index.stories-DNn9_KOO.js";import{r as a}from"./index-CsdIBAqE.js";import"./iframe-C5YspPwR.js";import"../sb-preview/runtime.js";import"./react-18-Cu1enTKq.js";import"./index-Bw8VTzHM.js";import"./index-DmEeU3Of.js";import"./index-DrFu-skq.js";function F(t){let s="";return Object.keys(t).forEach(function(e){s+=`${e}: ${t[e]};`}),s}const L=(t={})=>{const s=Object.keys(t).filter(r=>t[r]).reduce((r,n)=>({...r,[`--${n}`]:t[n]}),{}),e=a.useRef();a.useLayoutEffect(()=>{var n;const r=document.querySelector("#storybook-preview-iframe");r?e.current=(n=r==null?void 0:r.contentWindow)==null?void 0:n.document:document&&(e.current=document)},[t]),a.useLayoutEffect(()=>{var n,o;const r=F(s);return r&&((o=(n=e==null?void 0:e.current)==null?void 0:n.body)==null||o.setAttribute("style",r)),()=>{var i,p;(p=(i=e==null?void 0:e.current)==null?void 0:i.body)==null||p.removeAttribute("style")}},[t,s])};function q(t,s,e){a.useEffect(()=>(window.addEventListener(t,s,e),()=>window.removeEventListener(t,s,e)),[])}function X(t){try{return JSON.stringify(t)}catch{throw new Error("[storybook-addon-cssprops]: Failed to serialize the value")}}function $(t){try{return JSON.parse(t)}catch{return t}}function J({key:t,defaultValue:s,getInitialValueInEffect:e=!1,deserialize:r=$,serialize:n=X}){const[o,i]=a.useState(typeof window<"u"&&"localStorage"in window&&!e?r(window.localStorage.getItem(t)??void 0):s??""),p=a.useCallback(c=>{c instanceof Function?i(l=>{const m=c(l);return window.localStorage.setItem(t,n(m)),m}):(window.localStorage.setItem(t,n(c)),i(c))},[t,n]);return q("storage",c=>{c.storageArea===window.localStorage&&c.key===t&&i(r(c.newValue??void 0))}),a.useEffect(()=>{s!==void 0&&o===void 0&&p(s)},[s,o,p]),a.useEffect(()=>{e&&i(r(window.localStorage.getItem(t)??void 0)||(s??""))},[s,r,e,t]),[o===void 0?s:o,p]}const R="cssprops",G=`addon-${R}`,W=t=>{const s={};return Object.keys(t).forEach(e=>{s[e]=t[e].value}),s},B=t=>CSS.supports("color",t)?"color":"text",j=({customProperties:t,presetColors:s,storyId:e,initialCustomProperties:r})=>Object.keys(t).reduce((n,o)=>{var m;const i=t[o],p=((m=r==null?void 0:r[e])==null?void 0:m[o])||void 0,c=i.description||"",l=t[o].value;return n[o]={name:`--${o}`,description:c,category:"",key:o,control:{type:i.control||B(l),value:l,presetColors:s},table:{category:i.category,subcategory:i.subcategory,type:"CSS Custom Property",defaultValue:{summary:p}}},n},{}),h=({customProperties:t,storageProperties:s={},initialCustomProperties:e,storyId:r,presetColors:n})=>{const o={...t};return Object.keys(t).forEach(i=>{s[i]&&(o[i].value=s[i])}),j({customProperties:o,initialCustomProperties:e,storyId:r,presetColors:n})},v=({customProperties:t={},presetColors:s,storyId:e="unknown-story",inAddonPanel:r})=>{var w;const n=W(t),[o,i]=J({key:G,defaultValue:{customProperties:{[e]:n},initialCustomProperties:{[e]:n}}});a.useEffect(()=>{o&&!("initialCustomProperties"in o)&&i({customProperties:{[e]:n},initialCustomProperties:{[e]:n}}),o.initialCustomProperties[e]||i({customProperties:o.customProperties,initialCustomProperties:{...o.initialCustomProperties,[e]:n}})},[n,i,o,e]),a.useEffect(()=>{o.initialCustomProperties[e]||i({customProperties:{...o.customProperties,[e]:n},initialCustomProperties:{...o.initialCustomProperties,[e]:n}})},[n,i,o.customProperties,o.initialCustomProperties,e]);const[p,c]=a.useState(j({customProperties:t,presetColors:s,storyId:e,initialCustomProperties:o.initialCustomProperties})),l=d=>{const f={};Object.keys(d).forEach(g=>{f[g]=d[g]});const P={...o.customProperties[e],...f};i({...o,customProperties:{...o.customProperties,[e]:P}});const T=h({customProperties:t,storageProperties:P,initialCustomProperties:o.initialCustomProperties,storyId:e,presetColors:s});c(T)};L((w=o.customProperties)==null?void 0:w[e]);const m=()=>{i({customProperties:{...o.customProperties,[e]:o.initialCustomProperties[e]},initialCustomProperties:o.initialCustomProperties}),window.location.reload()};a.useEffect(()=>{const d=h({customProperties:t,storageProperties:o.customProperties[e],initialCustomProperties:o.initialCustomProperties,storyId:e,presetColors:s});c(d)},[t,s,o,e]);const[C,E]=a.useState(e);return a.useEffect(()=>{E(e)},[e]),u.jsx(k,{inAddonPanel:r,resetArgs:m,rows:p,updateArgs:d=>{const[f]=Object.keys(d),P=d[f];l({[f]:P})}},C)};v.__docgenInfo={description:"",methods:[],displayName:"CssPropsTable",props:{customProperties:{required:!1,tsType:{name:"CssPropertyItemGroup"},description:"",defaultValue:{value:"{}",computed:!1}},presetColors:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},storyId:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"unknown-story"',computed:!1}},inAddonPanel:{required:!1,tsType:{name:"boolean"},description:""}}};const z=()=>{const t=a.useContext(A),s=a.useContext(window.__DOCS_CONTEXT__);return Object.keys(t).length>0?t:s},y=t=>{var m;const s=t.customProperties,e=z(),r=(e==null?void 0:e.primaryStory)||{},n={...(m=r==null?void 0:r.parameters)==null?void 0:m.cssprops},{presetColors:o,disable:i,...p}=n,c=s||p;return!(Object.values(c).filter(C=>!!C.value).length>0)||i?null:u.jsx(v,{storyId:r==null?void 0:r.id,presetColors:o,customProperties:c})};y.__docgenInfo={description:"For use inside Storybook Docs and MDX",methods:[],displayName:"CssPropsBlock",props:{customProperties:{required:!0,tsType:{name:"CssPropertyItemGroup"},description:""}}};function b(t){const s={h1:"h1",h2:"h2",...x(),...t.components};return u.jsxs(u.Fragment,{children:[u.jsx(O,{of:_}),`
`,u.jsx(s.h1,{id:"tokenstories-example",children:"TokenStories Example"}),`
`,u.jsx(y,{}),`
`,u.jsx(s.h2,{id:"primitive-tokenstories",children:"Primitive TokenStories"}),`
`,u.jsx(S,{of:D}),`
`,u.jsx(s.h2,{id:"semantic-tokenstories",children:"Semantic TokenStories"}),`
`,u.jsx(S,{of:M}),`
`,u.jsx(s.h2,{id:"size-tokenstories",children:"Size TokenStories"}),`
`,u.jsx(S,{of:N})]})}function se(t={}){const{wrapper:s}={...x(),...t.components};return s?u.jsx(s,{...t,children:u.jsx(b,{...t})}):b(t)}export{se as default};
